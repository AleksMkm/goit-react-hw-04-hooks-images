{"version":3,"sources":["Components/Modal/Modal.module.css","Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Container/Container.module.css","Components/Button/Button.module.css","Components/ImageGalleryView/ImageGalleryView.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Container/Container.js","hooks/hooks.js","Components/Searchbar/Searchbar.js","Components/Button/Button.js","services/pixabay-api.js","images/initialScreenPlaceholder.jpg","images/errorPlaceholder.jpg","Components/Modal/Modal.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/ImageGalleryView/ImageGalleryView.js","App.js","reportWebVitals.js","index.js","Components/Searchbar/Searchbar.module.css"],"names":["module","exports","Container","children","className","styles","container","customHooks","useStateWithLabel","initialValue","name","useState","value","setValue","useDebugValue","usePrevious","ref","useRef","useEffect","current","Searchbar","getSearchQuery","btn","s","searchbar","form","onSubmit","e","preventDefault","query","toLowerCase","trim","toast","error","blur","type","Provider","size","input","placeholder","onChange","target","Button","updateSearchPage","onClick","KEY","BASE_URL","searchQuery","a","page","url","getData","then","response","fetch","images","json","api","fetchImages","modalRoot","document","querySelector","Modal","toggleModal","handleModalClosureOnEsc","code","window","addEventListener","removeEventListener","createPortal","backdrop","currentTarget","content","closeIcon","ImageGalleryItem","image","showBigImageInModal","item","src","webformatURL","previewURL","loading","style","opacity","alt","tags","data-image","largeImageURL","ImageGallery","gallery","map","id","Status","ImageGalleryView","resetSearchPage","updateImageAvialability","setImages","totalSearchResults","setTotalSearchResults","status","setStatus","modalIsOpen","setModalIsOpen","imageInModal","setImageInModal","activeImage","setActiveImage","prevQuery","imageAPI","console","log","totalHits","hits","length","catch","result","prevPage","state","finally","data","scrollTo","top","documentElement","scrollHeight","behavior","initialScreenPlaceholder","css","color","errorPlaceholder","dataset","App","setSearchQuery","searchPage","setSearchPage","moreImagesAvailable","setMoreImagesAvailable","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.48c2029b.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1NWgg\",\"content\":\"Modal_content__2pjCt\",\"closeIcon\":\"Modal_closeIcon__1lM6N\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__3dAih\",\"image\":\"ImageGalleryItem_image__2UNtU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"Container_container__15pUq\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Button_btn__2qnUE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryView_image__wn38e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__2CC7j\"};","import styles from './Container.module.css';\n\nexport default function Container({ children }) {\n  return <div className={styles.container}>{children}</div>;\n}\n","import { useDebugValue, useState, useEffect, useRef } from 'react';\n\nfunction useStateWithLabel(initialValue, name) {\n  const [value, setValue] = useState(initialValue);\n  useDebugValue(`${name}: ${value}`);\n  return [value, setValue];\n}\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nconst customHooks = {\n  useStateWithLabel,\n  usePrevious,\n};\n\nexport default customHooks;\n","import React, { useRef } from 'react';\nimport { FiSearch } from 'react-icons/fi';\nimport { IconContext } from 'react-icons';\nimport { toast } from 'react-toastify';\nimport PropTypes from 'prop-types';\nimport customHooks from '../../hooks/hooks.js';\nimport s from './Searchbar.module.css';\n\nconst { useStateWithLabel } = customHooks;\n\nfunction Searchbar({ getSearchQuery }) {\n  const [value, setValue] = useStateWithLabel('', 'value');\n\n  const btn = useRef(null);\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    const query = value.toLowerCase().trim();\n    if (query === '') {\n      toast.error('Please enter a query');\n      btn.current.blur();\n      return;\n    }\n    getSearchQuery(query);\n    setValue('');\n    btn.current.blur();\n  };\n\n  return (\n    <header className={s.searchbar}>\n      <form className={s.form} onSubmit={handleSubmit}>\n        <button type=\"submit\" className={s.btn} ref={btn}>\n          <IconContext.Provider value={{ size: '16px' }}>\n            <FiSearch />\n          </IconContext.Provider>\n        </button>\n        <input\n          className={s.input}\n          type=\"text\"\n          value={value}\n          placeholder=\"Search images and photos\"\n          onChange={e => setValue(e.target.value)}\n        />\n      </form>\n    </header>\n  );\n}\n\nexport default Searchbar;\n\nSearchbar.propTypes = {\n  getSearchQuery: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nfunction Button({ updateSearchPage }) {\n  return (\n    <button className={s.btn} onClick={updateSearchPage}>\n      Load more\n    </button>\n  );\n}\n\nexport default Button;\n\nButton.propTypes = {\n  updateSearchPage: PropTypes.func.isRequired,\n};\n","const KEY = '18962627-3cde470dd8252503102b1f7f8';\nconst BASE_URL = `https://pixabay.com/api/`;\n\nasync function fetchImages(searchQuery, page = 1) {\n  const url = `${BASE_URL}?image_type=photo&orientation=horizontal&q=${searchQuery}&page=${page}&per_page=12&key=${KEY}`;\n\n  return getData(url).then(response => {\n    return response;\n  });\n}\n\nasync function getData(url) {\n  const images = await fetch(url);\n  const response = await images.json();\n  return response;\n}\n\nconst api = {\n  fetchImages,\n};\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/initialScreenPlaceholder.7edde63a.jpg\";","export default __webpack_public_path__ + \"static/media/errorPlaceholder.c80120ff.jpg\";","import React, { useEffect } from 'react';\nimport { createPortal } from 'react-dom';\nimport { FaWindowClose } from 'react-icons/fa';\nimport { IconContext } from 'react-icons';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nfunction Modal({ toggleModal, children }) {\n  useEffect(() => {\n    const handleModalClosureOnEsc = e => {\n      if (e.code === 'Escape') {\n        toggleModal();\n      }\n    };\n    window.addEventListener('keydown', handleModalClosureOnEsc);\n    return () => {\n      window.removeEventListener('keydown', handleModalClosureOnEsc);\n    };\n  });\n\n  const handleBackdropClick = e => {\n    if (e.target === e.currentTarget) {\n      toggleModal();\n    }\n  };\n\n  return createPortal(\n    <div className={s.backdrop} onClick={handleBackdropClick}>\n      <div className={s.content}>\n        <button className={s.closeIcon} onClick={() => toggleModal()}>\n          <IconContext.Provider value={{ size: '36px' }}>\n            <FaWindowClose />\n          </IconContext.Provider>\n        </button>\n        {children}\n      </div>\n    </div>,\n    modalRoot,\n  );\n}\n\nexport default Modal;\n\nModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport ProgressiveImage from 'react-progressive-image';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nfunction ImageGalleryItem({ image, showBigImageInModal }) {\n  return (\n    <li className={s.item}>\n      <ProgressiveImage src={image.webformatURL} placeholder={image.previewURL}>\n        {(src, loading) => (\n          <img\n            style={{ opacity: loading ? 0.5 : 1 }}\n            src={src}\n            alt={image.tags}\n            data-image={image.largeImageURL}\n            className={s.image}\n            onClick={showBigImageInModal}\n          />\n        )}\n      </ProgressiveImage>\n    </li>\n  );\n}\n\nexport default ImageGalleryItem;\n\nImageGalleryItem.propTypes = {\n  showBigImageInModal: PropTypes.func.isRequired,\n  image: PropTypes.object.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nfunction ImageGallery({ images, showBigImageInModal }) {\n  return (\n    <ul className={s.gallery}>\n      {images &&\n        images.map(image => {\n          return (\n            <ImageGalleryItem\n              image={image}\n              showBigImageInModal={showBigImageInModal}\n              key={image.id}\n            />\n          );\n        })}\n    </ul>\n  );\n}\n\nexport default ImageGallery;\n\nImageGallery.propTypes = {\n  showBigImageInModal: PropTypes.func.isRequired,\n  images: PropTypes.arrayOf(PropTypes.object).isRequired,\n};\n","import React, { useEffect } from 'react';\nimport { toast } from 'react-toastify';\nimport { css } from '@emotion/core';\nimport HashLoader from 'react-spinners/HashLoader';\nimport ProgressiveImage from 'react-progressive-image';\nimport PropTypes from 'prop-types';\nimport s from './ImageGalleryView.module.css';\nimport imageAPI from '../../services/pixabay-api';\nimport initialScreenPlaceholder from '../../images/initialScreenPlaceholder.jpg';\nimport errorPlaceholder from '../../images/errorPlaceholder.jpg';\nimport Modal from '../Modal';\nimport ImageGallery from '../ImageGallery';\nimport customHooks from '../../hooks/hooks.js';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nconst { useStateWithLabel, usePrevious } = customHooks;\n\nfunction ImageGalleryView({\n  searchQuery,\n  page,\n  resetSearchPage,\n  updateImageAvialability,\n}) {\n  const [images, setImages] = useStateWithLabel(null, 'images');\n  const [totalSearchResults, setTotalSearchResults] = useStateWithLabel(\n    null,\n    'totalSearchResults',\n  );\n  const [status, setStatus] = useStateWithLabel(Status.IDLE, 'status');\n  const [modalIsOpen, setModalIsOpen] = useStateWithLabel(false, 'modalIsOpen');\n  const [imageInModal, setImageInModal] = useStateWithLabel('', 'imageInModal');\n  const [activeImage, setActiveImage] = useStateWithLabel('', 'activeImage');\n\n  const prevQuery = usePrevious(searchQuery);\n\n  useEffect(() => {\n    if (prevQuery !== searchQuery && searchQuery !== '') {\n      resetSearchPage();\n      setStatus(Status.PENDING);\n\n      imageAPI\n        .fetchImages(searchQuery)\n        .then(images => {\n          console.log(images);\n          if (images.totalHits === 0) {\n            toast.error(\n              `No images for ${searchQuery}. Please try another query.`,\n            );\n            setStatus(Status.REJECTED);\n            return;\n          }\n          if (images.hits.length === 0) {\n            toast.error(\n              `Oops! Pixabay failed us and forgot to send images. Please refresh page & try again.`,\n            );\n            setStatus(Status.REJECTED);\n            return;\n          }\n          setImages(images.hits);\n          setTotalSearchResults(images.totalHits);\n          setStatus(Status.RESOLVED);\n        })\n        .catch(error => {\n          setStatus(Status.REJECTED);\n        });\n    }\n  }, [\n    prevQuery,\n    resetSearchPage,\n    searchQuery,\n    setImages,\n    setStatus,\n    setTotalSearchResults,\n    updateImageAvialability,\n  ]);\n\n  useEffect(() => {\n    if (images && status === Status.RESOLVED) {\n      const result = totalSearchResults > images.length ? true : false;\n      updateImageAvialability(result);\n    } else {\n      updateImageAvialability(false);\n    }\n  }, [images, status, totalSearchResults, updateImageAvialability]);\n\n  const prevPage = usePrevious(page);\n\n  useEffect(() => {\n    if (prevPage < page) {\n      imageAPI\n        .fetchImages(searchQuery, page)\n        .then(images => {\n          setImages(state => {\n            return [...state, ...images.hits];\n          });\n        })\n        .catch(error => {\n          setStatus(Status.REJECTED);\n        })\n        .finally(data => {\n          window.scrollTo({\n            top: document.documentElement.scrollHeight - 1300,\n            behavior: 'smooth',\n          });\n        });\n    }\n  }, [\n    page,\n    prevPage,\n    searchQuery,\n    setImages,\n    setStatus,\n    updateImageAvialability,\n  ]);\n\n  const toggleModal = () => {\n    setModalIsOpen(state => !state);\n    setImageInModal('');\n    setActiveImage('');\n  };\n\n  const showBigImageInModal = e => {\n    toggleModal();\n    setImageInModal(state => (state ? '' : e.target.dataset.image));\n    setActiveImage(state => (state ? '' : e.target.src));\n  };\n\n  if (status === Status.IDLE) {\n    return (\n      <div>\n        <img src={initialScreenPlaceholder} alt=\"please enter a query\" />\n      </div>\n    );\n  }\n\n  if (status === Status.PENDING) {\n    return (\n      <HashLoader\n        css={css`\n          margin-top: 80px;\n        `}\n        size={250}\n        color={'orange'}\n        loading={true}\n      />\n    );\n  }\n\n  if (status === Status.REJECTED) {\n    return (\n      <div>\n        <img src={errorPlaceholder} alt=\"error\" />\n      </div>\n    );\n  }\n\n  if (status === Status.RESOLVED) {\n    return (\n      <>\n        <ImageGallery\n          images={images}\n          showBigImageInModal={showBigImageInModal}\n        />\n        {modalIsOpen && (\n          <Modal toggleModal={toggleModal}>\n            <ProgressiveImage src={imageInModal} placeholder={activeImage}>\n              {(src, loading) => (\n                <img\n                  style={{ opacity: loading ? 0.5 : 1 }}\n                  src={src}\n                  alt=\"\"\n                  className={s.image}\n                />\n              )}\n            </ProgressiveImage>\n          </Modal>\n        )}\n      </>\n    );\n  }\n}\n\nexport default ImageGalleryView;\n\nImageGalleryView.propTypes = {\n  searchQuery: PropTypes.string.isRequired,\n  page: PropTypes.number.isRequired,\n  resetSearchPage: PropTypes.func.isRequired,\n  updateImageAvialability: PropTypes.func.isRequired,\n};\n","import React from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport Container from './Components/Container';\nimport Searchbar from './Components/Searchbar';\nimport Button from './Components/Button';\nimport ImageGalleryView from './Components/ImageGalleryView';\nimport customHooks from './hooks/hooks';\n\nconst { useStateWithLabel } = customHooks;\n\nfunction App() {\n  const [searchQuery, setSearchQuery] = useStateWithLabel('', 'searchQuery');\n  const [searchPage, setSearchPage] = useStateWithLabel(1, 'searchPage');\n  const [moreImagesAvailable, setMoreImagesAvailable] = useStateWithLabel(\n    false,\n    'moreImagesAvailable',\n  );\n\n  return (\n    <Container>\n      <Searchbar getSearchQuery={query => setSearchQuery(query)} />\n      <ImageGalleryView\n        searchQuery={searchQuery}\n        page={searchPage}\n        resetSearchPage={() => setSearchPage(1)}\n        updateImageAvialability={status => setMoreImagesAvailable(status)}\n      />\n      {moreImagesAvailable && (\n        <Button updateSearchPage={() => setSearchPage(state => state + 1)} />\n      )}\n      <ToastContainer autoClose={3000} />\n    </Container>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3UcKv\",\"form\":\"Searchbar_form__3P57z\",\"input\":\"Searchbar_input__30WGQ\",\"btn\":\"Searchbar_btn__16HhD\",\"react-icons\":\"Searchbar_react-icons__26vP0\"};"],"sourceRoot":""}